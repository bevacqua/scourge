#!/usr/bin/env node

'use strict';

var fs = require('fs');
var argv = require('minimist')(process.argv.slice(2));
var stdin = require('get-stdin');
var scourge = require('..');

if (argv.map) {
  go(read(argv.map));
} else {
  stdin(go);
}

function read (file) {
  return fs.readFileSync(file, { encoding: 'utf8' });
}

function go (data) {
  argv.map = data;
  scourge(argv._, argv);
}
